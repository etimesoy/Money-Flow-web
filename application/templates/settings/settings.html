{% extends "main_page_base.html" %}

{% block title %}Money Flow - Settings{% endblock %}

{% block main %}
    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2">
            <h1 class="h2">My settings</h1>
        </div>

        <form method="POST">
            {% if get_flashed_messages() %}
                <div class="modal fade" id="modal">
                    <div class="modal-dialog modal-title">
                        {% for message in get_flashed_messages() %}
                            <div class="alert alert-warning">
                                {{ message }}
                                <button type="button" class="close" data-dismiss=" modal">x</button>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <script>$("#modal").modal("show")</script>
            {% endif %}

            <div class="d-flex flex-row ml-2">
                <label for="property_1" class="h4 p-1">
                    Username:
                    <input id="property_1" name="username" value="{{ user_info.username }}" class="ml-3 font-weight-light small" type="text" placeholder="Username" autocomplete="off">
                </label>
            </div>
            <div class="d-flex flex-row ml-2">
                <label for="property_2" class="h4 p-1">
                    Full name:
                    <input id="property_2" name="full_name" value="{{ user_info.full_name }}" class="ml-3 font-weight-light small" type="text" placeholder="Full name" autocomplete="off">
                </label>
            </div>
            <div class="d-flex flex-row ml-2">
                <label for="property_3" class="h4 p-1">
                    Email:
                    <input id="property_3" name="email" value="{{ user_info.email }}" class="ml-3 font-weight-light small" type="email" placeholder="Email" autocomplete="off">
                </label>
            </div>

            <div class="d-flex flex-row">
                <a class="btn btn-secondary" href="{{ url_for("index") }}">Cancel</a>
                <input class="btn btn-primary ml-2" type="submit" value="Update my settings">
            </div>

            <div class="d-flex flex-row mt-5">
                <h6 class="mt-1">Wanna change password?</h6>
                <a class="btn btn-group-xs ml-2 pl-0 pt-0" href="{{ url_for("auth_bp.forgot_password") }}">click here</a>
            </div>
        </form>
    </main>
{% endblock %}
